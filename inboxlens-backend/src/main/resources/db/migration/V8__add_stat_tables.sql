CREATE TABLE todo
(
    id      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    title   VARCHAR(255),
    status  VARCHAR(255),
    user_id BIGINT,
    CONSTRAINT pk_todo PRIMARY KEY (id)
);

CREATE TABLE trackables
(
    id      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    title   VARCHAR(255),
    type    VARCHAR(255),
    user_id BIGINT,
    CONSTRAINT pk_trackables PRIMARY KEY (id)
);

ALTER TABLE users
    ADD digests INTEGER;

ALTER TABLE users
    ALTER COLUMN digests SET NOT NULL;

ALTER TABLE todo
    ADD CONSTRAINT FK_TODO_ON_USER FOREIGN KEY (user_id) REFERENCES users (id);

ALTER TABLE trackables
    ADD CONSTRAINT FK_TRACKABLES_ON_USER FOREIGN KEY (user_id) REFERENCES users (id);
